test_always_track_thread_ids_before_creating_conversations
test_ambiguous_time_expressions
test_anchored_draft_data_refresh
test_anchored_draft_refresh_and_update_flow
test_both_data_structure_variations
test_calendar_backward_compatibility
test_calendar_creation_flow
test_calendar_creation_frontend_response
test_calendar_creation_response_handling
test_calendar_empty_response_handling
test_calendar_error_frontend_response
test_calendar_error_response_handling
test_calendar_event_creation_optimized
test_calendar_event_validation
test_calendar_events_at_exact_time_boundaries
test_calendar_events_correctly_extracted_from_response
test_calendar_events_crossing_timezone_boundaries
test_calendar_events_frontend_format
test_calendar_events_spanning_multiple_days
test_calendar_feature
test_calendar_multiple_events_extraction
test_calendar_nested_response_structure_regression
test_calendar_not_connected_error_handling
test_calendar_query_pipeline_optimized
test_calendar_response_logging_doesnt_fail
test_calendar_response_timeout
test_calendar_search_results_formatting
test_calendar_search_this_week_flow
test_cleanup_works_with_existing_clean_collections_fixture
test_close_draft_endpoint
test_close_draft_not_found
test_close_draft_success
test_complete_delete_workflow_success
test_complete_delete_workflow_with_composio_failure
test_complete_email_draft_creation_to_send_pipeline
test_complete_thread_workflow
test_completion_finalization_detection_prompt
test_composio_api_changes_handled_gracefully
test_composio_authentication_failure
test_composio_calendar_connectivity_health_check
test_composio_malformed_response
test_composio_rate_limiting
test_composio_rate_limiting
test_composio_service_error_handling
test_composio_service_unavailable
test_composio_service_unavailable
test_composio_service_unavailable_handling
test_concurrent_draft_updates
test_concurrent_email_processing_safety
test_condition_logic_from_app_py
test_content_application_detection_prompt
test_content_extraction_from_conversation
test_content_fallback_mechanisms
test_content_structure_separation
test_conversation_cleanup_handles_nonexistent_threads
test_conversation_cleanup_with_dynamic_thread_ids
test_conversation_collection_email_references
test_conversation_storage_optimized
test_create_calendar_draft_with_validation
test_create_calendar_event_composio_failure
test_create_calendar_event_success
test_create_calendar_event_success
test_create_conversation_with_cleanup
test_create_draft_endpoint
test_create_draft_validation_required_fields
test_create_email_draft_with_contact_resolution
test_create_email_fixture_helper
test_create_multiple_conversations_with_cleanup
test_database_connection_error_handling
test_date_formatting_in_prompts
test_db
test_db_name
test_debug_logging_regression
test_delete_calendar_event_composio_failure
test_delete_calendar_event_conversation_not_found
test_delete_calendar_event_missing_parameters
test_delete_calendar_event_no_calendar_events
test_delete_calendar_event_not_found
test_delete_calendar_event_not_found
test_delete_calendar_event_not_found_in_conversation
test_delete_calendar_event_options_request
test_delete_calendar_event_success
test_delete_calendar_event_success
test_delete_calendar_event_success
test_delete_with_empty_event_id
test_delete_with_none_event_id
test_delete_with_very_long_event_id
test_delete_workflow_cors_handling
test_delete_workflow_with_invalid_event_id
test_delete_workflow_with_malformed_request
test_draft_composio_params_conversion
test_draft_context_serialization
test_draft_creation_intent_prompt_structure
test_draft_creation_prompt_with_llm_response
test_draft_creation_vs_update_routing
test_draft_creation_with_invalid_data
test_draft_data_serialization_helpers
test_draft_deleted_during_send_process
test_draft_detection_prompt_with_existing_draft
test_draft_endpoints_error_handling
test_draft_field_update_extraction
test_draft_field_update_prompt_structure
test_draft_information_extraction_prompt_structure
test_draft_send_error_recovery_flow
test_draft_status_recovery_from_composio_error
test_draft_summary_generation
test_draft_update_intent_prompt_structure
test_draft_update_race_conditions
test_draft_update_with_llm_content_extraction
test_draft_validation_before_composio_send
test_draft_validation_endpoint_different_completeness
test_draft_workflow_with_conversation_cleanup
test_duplicate_email_handling
test_dynamic_threads
test_email_address_extraction_rules
test_email_content_and_summarization_workflow
test_email_count_matches_saved_emails
test_email_data_processing_with_mocks
test_email_draft_composio_error_status_handling
test_email_draft_parameter_mapping
test_email_draft_to_composio_send_success
test_email_flow_error_handling
test_email_integration_health_check
test_error_handling_invalid_draft_type
test_error_response_helpers
test_event_data_structure
test_events_with_many_attendees
test_execute_action_raises_exception
test_extremely_large_calendar_response
test_feature
test_find_events_by_query
test_find_events_no_results
test_fixture_base64_decoding
test_fixture_consistency
test_frontend_receives_calendar_events
test_full_calendar_query_to_response_pipeline
test_full_draft_lifecycle
test_full_email_query_pipeline_optimized
test_full_email_query_to_database_pipeline
test_full_thread_endpoint_performance
test_get_active_drafts_thread_isolation
test_get_by_gmail_thread_id_chronological_ordering
test_get_by_gmail_thread_id_empty_thread
test_get_by_gmail_thread_id_malformed_dates
test_get_draft_by_id_endpoint
test_get_draft_by_id_functionality
test_get_draft_by_message_id_endpoint
test_get_email_content_composio_failure
test_get_email_content_database_update_failure
test_get_email_content_fallback_to_existing
test_get_email_content_html_processing
test_get_email_content_missing_email_id
test_get_email_content_options_method
test_get_email_content_success_existing_email
test_get_email_content_success_new_email
test_get_email_content_tooling_service_unavailable
test_get_email_details_api_error
test_get_email_details_empty_content
test_get_email_details_malformed_base64
test_get_email_details_multipart_prefers_html
test_get_email_details_not_found
test_get_email_details_simple_text
test_get_email_details_with_html_content
test_get_email_details_with_special_characters
test_get_email_threads_empty_database
test_get_email_threads_invalid_limit
test_get_email_threads_success
test_get_email_threads_with_limit
test_get_full_gmail_thread_empty_response
test_get_full_gmail_thread_failed_response
test_get_full_gmail_thread_missing_message_ids
test_get_full_gmail_thread_success
test_get_full_gmail_thread_success
test_get_full_thread_chronological_ordering
test_get_full_thread_content_fetch_failure
test_get_full_thread_content_processing
test_get_full_thread_no_tooling_service
test_get_full_thread_not_found
test_get_full_thread_success
test_get_gmail_threads_grouped_basic_functionality
test_get_gmail_threads_grouped_limit_parameter
test_get_gmail_threads_grouped_metadata_aggregation
test_get_recent_emails_success
test_get_thread_by_id_empty_thread
test_get_thread_by_id_not_found
test_get_thread_by_id_success
test_get_upcoming_events_success
test_html_to_text_conversion_basic
test_incomplete_draft_parameter_conversion
test_invalid_api_key_initialization
test_invalid_calendar_id
test_invalid_email_addresses_in_draft
test_invalid_time_range_queries
test_large_calendar_responses_handled_gracefully
test_large_draft_content_handling
test_large_email_batch_count_accuracy
test_large_thread_handling
test_list_events_composio_error
test_list_events_empty_response
test_list_events_success
test_list_events_with_filters
test_list_events_with_time_range
test_llm_connectivity_health_check
test_malformed_event_creation_data
test_malformed_response_structure
test_malformed_thread_data_handling
test_maximum_calendar_events_returned
test_mixed_email_and_calendar_query
test_multiple_conversations
test_multiple_overlapping_time_ranges
test_multiple_recipients_handling
test_multiple_threads_performance
test_my_feature
test_nested_composio_data_extraction_working
test_nested_composio_response_structure_handling
test_new_way
test_no_zero_events_returned_when_events_exist
test_old_bug_reproduction
test_old_way
test_partial_calendar_response_corruption
test_performance_large_email_batch_integration
test_prevent_cross_thread_draft_contamination
test_prevent_data_staleness_regression
test_prevent_draft_serialization_error_regression
test_prevent_routing_bypass_regression
test_process_creation_response
test_process_direct_items_response
test_process_empty_response
test_process_malformed_response
test_process_nested_composio_response
test_process_single_event_response
test_prompt_conversation_context_integration
test_prompt_handles_empty_conversation_history
test_prompt_handles_large_conversation_history
test_prompt_handles_malformed_conversation_history
test_prompt_handles_malformed_draft_data
test_prompt_handles_none_conversation_history
test_prompt_thread_context_isolation
test_prompt_with_special_characters
test_prompt_with_very_long_input
test_query_classification_calendar_intent
test_query_classification_fallback_to_keywords
test_query_classification_with_conversation_context
test_response_structure_detection_creation
test_response_structure_detection_direct
test_response_structure_detection_nested
test_response_structure_detection_single
test_routing_debug_logging
test_routing_performance_with_multiple_drafts
test_should_skip_tooling_logic
test_success_response_helpers
test_summarize_single_email_conversation_not_found
test_summarize_single_email_llm_failure
test_summarize_single_email_missing_parameters
test_summarize_single_email_options_method
test_summarize_single_email_rate_limit_handling
test_summarize_single_email_success_claude_fallback
test_summarize_single_email_success_gemini
test_thread_drafts_endpoint_isolation
test_thread_endpoints_database_error
test_thread_endpoints_malformed_data
test_thread_isolation_validation
test_thread_isolation_validation_in_endpoints
test_thread_specific_draft_management
test_thread_with_mixed_content_types
test_threads_endpoint_performance
test_time_extraction_rules_in_prompts
test_time_format_handling
test_timezone_handling_errors
test_update_calendar_event_not_found
test_update_calendar_event_partial_update
test_update_calendar_event_success
test_update_draft_endpoint
test_update_draft_from_composio_error_status
test_update_draft_validation
test_update_nonexistent_draft
test_use_descriptive_thread_ids
test_validate_draft_completeness
test_validate_draft_endpoint
test_validate_nonexistent_draft
test_very_complex_search_queries
test_very_long_event_descriptions
test_zero_emails_scenario
